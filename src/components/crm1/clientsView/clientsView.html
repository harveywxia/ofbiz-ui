<template>
  <require from="../../../css/crm1.css"></require>
  <require from="../common/addClientPopUp"></require>

<!--  <require from="../../../commons/util/sort"></require>-->
<!--  <require from="../../../commons/util/take"></require>-->

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">

  <div class="container-fluid" style="border-bottom: 1px solid gray;">
    <h3>Customers</h3>
    <div class="mt-3 d-flex flex-row">
      <div class="m-1 ">
        <button type="button" class="btn btn-success">Create <i class="fa fa-plus-square" data-toggle="modal" data-target=".bd-example-modal"></i></button>
      </div>
      <div class="m-1 ">
        <button type="button" class="btn btn-info" click.delegate="toggleView()">${view}</button>
      </div>
      <div class="helpers">

<!--        <label for="column">Sort By:</label>-->
<!--        <select id="column" ref="column">-->
<!--          <option value="name_count">Name</option>-->
<!--          <option value="company_count">Company</option>-->

<!--        </select>-->




        <input  type="text"  value.bind="taskName" style=" width:300px;height: 38px; margin-bottom: 10px;margin-right: 10px">
        <button type="button" class="btn btn-info" click.delegate="search()" style=" margin-bottom: 10px;margin-right: 10px;height: 38px">Search</button>




        <div class="dropdown">
        <a class="btn btn-outline-dark dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-filter"></i> Filters</a>
        <a class="btn btn-outline-dark dropdown-toggle" href="#" role="button" id="dropdownMenuLink1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-columns"></i> Group by</a>
        <a class="btn btn-outline-dark dropdown-toggle" href="#" role="button" id="dropdownMenuLink2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-star"></i> Favorites</a>




        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <a class="dropdown-item" href="#">Action</a>
          <a class="dropdown-item" href="#">Another action</a>
          <a class="dropdown-item" href="#">Something else here</a>
        </div>

        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink1">
          <a class="dropdown-item" href="#">Action</a>
          <a class="dropdown-item" href="#">Another action</a>
          <a class="dropdown-item" href="#">Something else here</a>
        </div>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink2">
        <a class="dropdown-item" href="#">Action</a>
        <a class="dropdown-item" href="#">Another action</a>
        <a class="dropdown-item" href="#">Something else here</a>
      </div>
      </div>
      </div>

    </div>
  </div>




  <div if.bind="simpleView" class="container-fluid" >
    <div class="row outside ">

    <div repeat.for="contact of contacts" >
      <div class="card card_internal" style=" max-width: 370px; max-height: 135px">
        <div class="row " style=" width: 370px; height: 135px">
          <div class="col-sm-4">
            <img class="card-img-top" src="../img/avatar.png" alt="Card image cap" style="height: 100%; width: 100px">
          </div>
          <div class="col-sm-8 " >
            <div class="card-body card_selections">
              <p class="card-title" style="font-size: 12px; font-weight: bold">${contact.firstName} ${contact.lastName}</p>
              <p class="card-title" style="font-size: 10px">Works For: ${contact.companyName}</p>
              <button class="btn btn-info btn-sm " click.delegate="getClientInformation(contact)">Details</button>
            </div>
          </div>
      </div>
        </div>
      </div>

    </div>
  </div>



    <div else class="container-fluid" >

      <table class="table" >

        <thead>
        <tr >
          <th scope="col">Name</th>
          <th scope="col">Company</th>
          <th scope="col">${selectedEmail}</th>
          <th scope="col">${selectedPhone}</th>
          <th scope="col" >
            <div class="dropdown">
              <a class="btn btn-outline-dark" style="border: none;" href="#" role="button" id="checkDropDown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-ellipsis-v"></i></a>
              <form>

                <div class="dropdown-menu" style="margin-right: 200px;" aria-labelledby="checkDropDown">
                  <label repeat.for="product of phone">
                    <p class="dropdown-item"  >
                      <input type="checkbox" value.bind="product" checked.bind="selectedPhone" checked="checked">
                      ${product}</p>

                  </label>
                  <label repeat.for="prod of mail">
                    <p class="dropdown-item"  >
                      <input type="checkbox" value.bind="prod" checked.bind="selectedEmail" checked="checked">
                      ${prod}</p>

                  </label>
                </div>
              </form>
            </div>
          </th>
        </tr>
        </thead>

        <tbody>

        <tr repeat.for="contact of contacts">
          <td>${contact.firstName} ${contact.lastName}</td>
          <td>${contact.companyName}</td>
          <td if.bind="isEmail">${contact.email}</td>
          <td if.bind="isPhone">${contact.phoneNumber}</td>

          <td></td>

        </tr>
        </tbody>
      </table>

    </div>

  <add-client-pop-up ></add-client-pop-up>


</template>
